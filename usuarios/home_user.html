<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PKES - Inicio</title>

    <link href="../assets/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/template.css" />
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="layout">
        <div id="header-placeholder"></div>

        <main class="container py-4">
            <section class="hero-section text-center py-5 mb-5 bg-light rounded-3">
                <h1 class="display-5 fw-bold mb-3">Bienvenido a PKES</h1>
                <p class="lead mb-4">Organiza eventos infantiles inolvidables con nuestros servicios</p>
    
                <a href="../usuarios/crear_presupuesto.html" class="btn btn-primary btn-lg px-4">
                    <i class="fas fa-calendar-plus me-2"></i>Reservar Ahora
                </a>
            </section>

            <section class="mb-5">
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <h2 class="h4 fw-bold mb-0">
                        <i class="fas fa-star text-warning me-2"></i>Salones Destacados
                    </h2>
                  
                    <a href="../usuarios/ver_salon.html" class="btn btn-sm btn-outline-primary">
                        Ver Todos <i class="fas fa-arrow-right ms-1"></i>
                    </a>
                </div>
                <div class="row g-4" id="salones-destacados-container">
                </div>
            </section>

            <section class="mb-5">
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <h2 class="h4 fw-bold mb-0">
                        <i class="fas fa-concierge-bell text-success me-2"></i>Nuestros Servicios
                    </h2>
                   
                    <a href="../usuarios/ver_servicio.html" class="btn btn-sm btn-outline-success">
                        Ver Todos <i class="fas fa-arrow-right ms-1"></i>
                    </a>
                </div>
                <div class="row g-4" id="servicios-container">
                </div>
            </section>
        </main>

        <div id="footer-placeholder"></div>
    </div>

    <script src="../assets/bootstrap/js/bootstrap.bundle.min.js"></script>

    <script src="../js/templates.js"></script>
    
    <script type="module">
    
        const waitForHeader = () => {
            return new Promise((resolve) => {
                if (document.getElementById('header-placeholder').innerHTML.trim() !== '') {
                    return resolve();
                }
                
                const observer = new MutationObserver((mutations, obs) => {
                    if (document.getElementById('header-placeholder').innerHTML.trim() !== '') {
                        obs.disconnect();
                        resolve();
                    }
                });
                
                observer.observe(document.getElementById('header-placeholder'), {
                    childList: true,
                    subtree: true
                });
            });
        };

        async function initApp() {
            try {
                await waitForHeader();
                
               
                const { GestorDatos } = await import('../js/gestorDatos.js');
                const { TarjetasDinamicas } = await import('../js/tarjetasDinamicas.js');

                await GestorDatos.init();
                
                TarjetasDinamicas.renderSalones('salones-destacados-container', true);
                TarjetasDinamicas.renderServicios('servicios-container');
                
                TarjetasDinamicas.initEventos();
                
                console.log('Aplicación cargada correctamente en home_user.html');
            } catch (error) {
                console.error('Error al cargar la aplicación en home_user.html:', error);
            }
        }

        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>

    
